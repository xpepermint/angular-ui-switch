angular.module("uiSwitch",[]).directive("switch",function($compile){return{require:"ngModel",restrict:"AE",replace:!0,transclude:!0,scope:{isDisabled:"@",ngModel:"="},controller:function($scope){$scope.init=function(){$scope.isDisabled=$scope.isDisabled||!1}(),$scope.setElementStyle=function(element){$scope.ngModel?element.addClass("checked"):element.removeClass("checked")}},template:function(element,attrs){var html="";return html+="<span",html+=' class="switch'+(attrs["class"]?" "+attrs["class"]:"")+'"',html+=">",html+="<small></small>",html+='<input type="checkbox"',html+=attrs.id?' id="'+attrs.id+'"':"",html+=attrs.name?' name="'+attrs.name+'"':"",html+=attrs.ngModel?' ng-model="'+attrs.ngModel+'"':"",html+=' style="display:none" />',html+='<span class="switch-text">',html+=attrs.on?'<span class="on">'+attrs.on+"</span>":"",html+=attrs.off?'<span class="off">'+attrs.off+"</span>":" ",html+="</span>"},link:function(scope,element,attrs,controller){scope.setElementStyle(element),"false"==attrs.isDisabled&&element.bind("click",function(){scope.$apply(function(){scope.ngModel=!scope.ngModel,scope.setElementStyle(element),attrs.ngChange&&attrs.ngChange()})})}}});
